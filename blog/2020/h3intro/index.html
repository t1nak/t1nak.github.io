
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Personal website of Dr Tina Koziol">
      
      
      
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.5">
    
    
      
        <title>Uber's H3 grid - tinakoziol.com</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.21aed14c.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#h3-ubers-open-source-hierarchical-hexagonal-grid-for-the-world" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../.." title="tinakoziol.com" class="md-header-nav__button md-logo" aria-label="tinakoziol.com">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            tinakoziol.com
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Uber's H3 grid
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/t1nak/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
    
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../../../research/" class="md-tabs__link">
        Research
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
        
      
      <a href="../../../python/" class="md-tabs__link md-tabs__link--active">
        Python for Economists
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="tinakoziol.com" class="md-nav__button md-logo" aria-label="tinakoziol.com">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    tinakoziol.com
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/t1nak/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../debate/" class="md-nav__link">
      Miscellaneous - Debate and Misinformation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../cv/" class="md-nav__link">
      CV
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    <label class="md-nav__link" for="nav-4">
      Research
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Research" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Research
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../research/" class="md-nav__link">
      Work in progress
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    <label class="md-nav__link" for="nav-5">
      Python for Economists
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Python for Economists" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Python for Economists
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/" class="md-nav__link">
      Why learn python
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2" checked>
    <label class="md-nav__link" for="nav-5-2">
      2020
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="2020" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        <span class="md-nav__icon md-icon"></span>
        2020
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cost/" class="md-nav__link">
      Cost mapping for friction surfaces
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Uber's H3 grid
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Uber's H3 grid
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usecase-binning-database-look-ups-and-categorisation" class="md-nav__link">
    Usecase: Binning, database look-ups and categorisation
  </a>
  
    <nav class="md-nav" aria-label="Usecase: Binning, database look-ups and categorisation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unify-data-spatially" class="md-nav__link">
    Unify data spatially
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coversion-in-and-out-of-h3" class="md-nav__link">
    Coversion in and out of H3
  </a>
  
    <nav class="md-nav" aria-label="Coversion in and out of H3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fantastic-notebook-here" class="md-nav__link">
    Fantastic notebook here
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-out-this-excellent-podcast-by-mapscaping" class="md-nav__link">
    Check out this excellent podcast by  mapscaping
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ba900-download/" class="md-nav__link">
      Analyse and Download SARB BA900
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Catalinaconda/" class="md-nav__link">
      Catalina
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../installpy/" class="md-nav__link">
      Install python
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usecase-binning-database-look-ups-and-categorisation" class="md-nav__link">
    Usecase: Binning, database look-ups and categorisation
  </a>
  
    <nav class="md-nav" aria-label="Usecase: Binning, database look-ups and categorisation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unify-data-spatially" class="md-nav__link">
    Unify data spatially
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coversion-in-and-out-of-h3" class="md-nav__link">
    Coversion in and out of H3
  </a>
  
    <nav class="md-nav" aria-label="Coversion in and out of H3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fantastic-notebook-here" class="md-nav__link">
    Fantastic notebook here
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-out-this-excellent-podcast-by-mapscaping" class="md-nav__link">
    Check out this excellent podcast by  mapscaping
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/t1nak/edit/master/docs/blog/2020/h3intro.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="h3-ubers-open-source-hierarchical-hexagonal-grid-for-the-world"><strong>H3:</strong> Uber's open source hierarchical hexagonal grid for the world</h1>
<p>The geospatial community is contemplating the pro's and con's of Uber's H3 discrete global grid system. The quick facts:</p>
<div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #31708f; background-color: #d9edf7; border-color: #bce8f1;">
    <div class="linelist">
    <ul>  
        <li>A <b>global geospatial indexing system,</b> i.e. multi-precision tiling of the world with hierarchical linear indexes to organize data </li> 
        <li><b></b> 
         <b>  </b> <b>16 resolutions </b>  <b> </b>   </li>
        <li> The grid approximates geo features such as polygons or points, avoiding expensive geospatial operations --> exhibits great scaling behavior 
  </li>

</div>
</div>

<ul>
<li>
<p>It's a <b>discrete global grid system</b>, i.e. it breaks up the world into discrete cells, where every position in the world has a cell identifier associated with it </p>
</li>
<li>
<p>H3 is a <strong>system of grids</strong>. All 16 grid resolutions of the grid relate to each other; the resolution 10 grid is created by subdividing the resolution 9 grid and so forth </p>
</li>
</ul>
<p><img alt="" src="/blog/2020/h3_pics/children_cells.png" /></p>
<ul>
<li>This table show the different spatial dimensions per resolution (0-15 is 1-16)</li>
</ul>
<p><img alt="" src="/blog/2020/h3_pics/hex_res2.png" /></p>
<p><em>Nice</em></p>
<ul>
<li>A hexagonal system is more convenient for modeling spatial transformations, because neighbors are equal distant <ul>
<li><em>Uniform adjency</em> neat property: all neighbors are the same distance apart </li>
</ul>
</li>
</ul>
<p><img alt="" src="/blog/2020/h3_pics/equal_distance.png" /></p>
<ul>
<li>When using H3, a point, a polygon, or any kind of shape gets coordinates, plus a resolution, and an indexing operation.  The indexing operation is exactly at that resolution. The result is a list of indexes/identifiers for every single point of interest (e.g. building, market, hospital)</li>
</ul>
<p><img alt="" src="/blog/2020/h3_pics/hex_poly.png" /></p>
<h2 id="usecase-binning-database-look-ups-and-categorisation">Usecase: Binning, database look-ups and categorisation</h2>
<p>When working with large data sets, a great way to simplify the visual representation of complex point data is to spatially aggregate the points into bin regions so that you can look at groups of data instead of the individual points </p>
<p><img alt="" src="/blog/2020/h3_pics/taxi_pick_up_ny.png" /> <a href="https://www.tableau.com/about/blog/2017/11/data-map-discovery-78603">source</a></p>
<ul>
<li>
<p>You can map a data source from the H3 identifier to a metric value for that cell and do database lookups. For example, you can answer the question: "I'm in this area, I want to know how many buildings there are around me"</p>
<ul>
<li>
<p>Itâ€™s just a matter of checking coordinates, finding the H3 identifier, and then looking that up in a database that is set up to map from the H3 identifier to that metric value </p>
</li>
<li>
<p>Great use case: binning and categorisations  <a href="https://github.com/amahon/wildfire-datascience/blob/master/notebooks/wildfires-cause-prediction.ipynb">source</a></p>
<p><strong>Binning mitigates variable resolution of source data and reduces computational complexity of feature engineering</strong></p>
<ul>
<li>
<p>When using a binning strategy to aggregate base points geographically, h3 is a great tool</p>
<ul>
<li>For example: H3 generates an H3 bin from a set of coordinates, and a boundrary shape for an H3 bin. In conjunction, these functions allow us to assign a bin to each point of interest, and then use that bin's geography to extract geodata from the raster datasets</li>
</ul>
</li>
<li>
<p>With H3 all cells within a defined search distance can be looked up easily </p>
</li>
</ul>
</li>
<li>
<p>It doesn't really know what you put next to it inside of your database. You could create a database in a Big Data system where one of those columns is an H3 identifier. The other columns can be whatever you want them to be, within the constraints of that database. You can attach categorical or numerical metrics to it </p>
</li>
<li>
<p>There are different ways to get a raster into the H3 grid. One is by sampling from the raster. We take an H3 grid, and we find some points we want to sample from the raster. Then we use that to move that raster data into the grid. Another way is by taking all the pixels in that raster and finding the associated H3 cell and moving the data in that way.</p>
</li>
</ul>
</li>
</ul>
<h3 id="unify-data-spatially">Unify data spatially</h3>
<ul>
<li>
<p>However, the hexagonal hierarchy could be a disadvantage when dividing hierarchies into smaller units. Spatial errors are not present, for instance, in squares</p>
</li>
<li>
<p>As a good example, in the US, we have customer data in zip code format, and we have demographics data in a format we'd get from the US Census Bureau. They use different geometries which the H3 grid joins together. We can also bring in raster,  GPS tracks  and all these different data and unify them into a simple analysis that the user is doing. It makes it a lot easier to access geospatial data.</p>
</li>
</ul>
<h3 id="coversion-in-and-out-of-h3">Coversion in and out of H3</h3>
<p>The ability to convert data back out of hexagons is just as critical. This allows you to transform between that sample of the US Census of geographies to zip codes. We're able to use a hexagon grid to transform remarkably efficiently from one polygon geometry to another. Users can do their analysis in a geometry that they're comfortable with and that they feel useful.</p>
<ul>
<li>Functions:<ul>
<li><code>polyfill</code> H3  polyfill takes an input polygon and finds the H3 indexes which cover it. So you can take a given input polygon that you re  interested in and then find the index H3 grid that covers it.  So you use the system from within a geometry rather than having to use the grid as the first instance of coverage. </li>
<li><em>Radius Lookup</em>: You can use H3 for an efficient radius lookup, as long as you're willing to approximate the circle as a k-ring of hexagons (roughly, a large hexagonal shape). This is much faster than a true search by Haversine distance, but less accurate.</li>
</ul>
</li>
</ul>
<pre><code>    h3_distance(H3Index origin, H3Index h3)  
        Get the grid distance between H3 addresses. 
        Returns the distance in grid cells between the two indexes.
        Returns a negative number if finding the distance failed. 
        Finding the distance can fail because the two indexes are not comparable 
        (different resolutions), too far apart, or are separated by pentagonal distortion. 
        This is the same set of limitations as the local IJ coordinate space functions.
</code></pre>
<pre><code>#haversine distance calc example: 
    def haversine_dist(lon_src, lat_src, lon_dst, lat_dst):
        '''returns distance between GPS points, measured in meters'''
        lon1_rad, lat1_rad, lon2_rad, lat2_rad = map(np.radians, 
                                                     [lon_src, lat_src, lon_dst, lat_dst])
        dlon = lon2_rad - lon1_rad
        dlat = lat2_rad - lat1_rad
        a = np.sin(dlat / 2.0) ** 2 + np.cos(lat1_rad) * \
            np.cos(lat2_rad) * np.sin(dlon / 2.0) ** 2
        c = 2 * np.arcsin(np.sqrt(a))
        km = 6367 * c
        return km * 1000
</code></pre>
<h4 id="fantastic-notebook-here">Fantastic notebook <a href="https://github.com/uber/h3-py-notebooks/blob/master/notebooks/urban_analytics.ipynb">here</a></h4>
<h4 id="check-out-this-excellent-podcast-by-mapscaping">Check out this excellent podcast by  <a href="https://mapscaping.com/blogs/the-mapscaping-podcast/h3-geospatial-indexing-system">mapscaping</a></h4>
<iframe title="H3 geospatial indexing system" src="https://www.podbean.com/media/player/audio/postId/15054589?url=https%3A%2F%2Fwww.podbean.com%2Few%2Fpb-qfwkj-e5b6fd&version=1" width="100%" height="122" style="border:none;" scrolling="no" data-name="pd-iframe-player"></iframe>

<h1 id="scaling-geospatial-workloads">Scaling Geospatial Workloads</h1>
<ul>
<li>Usecase for friction modelling <ul>
<li>If we are handling shape files at large scale h3 might be useful</li>
</ul>
</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../cost/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Cost mapping for friction surfaces
              </div>
            </div>
          </a>
        
        
          <a href="../ba900-download/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Analyse and Download SARB BA900
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../../../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>