{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Hi there! Overview Ph.D. in Economics University of Cape Town, ZA Research , CV tina.koziol [ at ]alumni.uct.ac.za I'm an Econ PhD graduate from University of Cape Town with an interest in Computational Economics. I'm passionate about integrating data science methods into academic science and teaching. I'm particularly fond of python due to its versatility and easy, beautiful syntax. Maybe I can convince you to learn python here . \ud83e\udd17 NEW Check out new blog post Python module for accessibility mapping using google earth engine available at pypi Python helper class to analyse BA900 forms of South African the Reserve Bank available on github Work in progress -->click for details Koziol, 2020 (SARB Working paper): Stress-testing interconnected portfolios in the South African Banking Sector Davids, du Rand, Georg, Koziol & Schasfoort, 2020 (Working paper): SABCoM: A Spatial Agent-Based COVID-19 Model Source code: https://github.com/blackrhinoabm/sabcom Koziol, Riedler, 2019 (Working paper): Euro Area, Quantitative Easing in a Portfolio Balance Model with Heterogeneous Agents and Assets Teaching UCT, 2020, School of Economics, Lecturer Econometrics (Master and PhD level ECO5046F) UCT, 2019, School of Economics, Lecturer Python for Economics, short course for PhD students UCT, 2019, School of Economics, Lecturer Quantitative methods in Economics, BSc degree UCT, 2018 & 2017, African Institute for Financial Market and Risk Management, TA Econometrics, MCom degree Seminars & Talks Research Seminar at the South African Reserve Bank, 9 November 2020 Economics PhD Conference at Stellenbosch University, 11 - 12 July 2019 Closing Conference of the Project Quantitative Easing and Financial (In)Stability funded, Frankfurt am Main, Germany, 1 April 2019 Financial Stability Workshop of South African Reserve Bank, Pretoria, South Africa, 30th October 2017 INET/Oxford - UCT Workshop on Agent-Based Modelling for Systemic Stress Testing, Oxford, United Kingdom 8-10 March 2017 Tools We are developing BlackRhino , an open source agent-based model of the financial system in python. I use BlackRhino to implement a model of asset fire-sale propagation across the South African banking sector.","title":"Home"},{"location":"#hi-there","text":"Overview Ph.D. in Economics University of Cape Town, ZA Research , CV tina.koziol [ at ]alumni.uct.ac.za I'm an Econ PhD graduate from University of Cape Town with an interest in Computational Economics. I'm passionate about integrating data science methods into academic science and teaching. I'm particularly fond of python due to its versatility and easy, beautiful syntax. Maybe I can convince you to learn python here . \ud83e\udd17","title":"Hi there!"},{"location":"#new","text":"Check out new blog post Python module for accessibility mapping using google earth engine available at pypi Python helper class to analyse BA900 forms of South African the Reserve Bank available on github","title":"NEW"},{"location":"#work-in-progress-click-for-details","text":"Koziol, 2020 (SARB Working paper): Stress-testing interconnected portfolios in the South African Banking Sector Davids, du Rand, Georg, Koziol & Schasfoort, 2020 (Working paper): SABCoM: A Spatial Agent-Based COVID-19 Model Source code: https://github.com/blackrhinoabm/sabcom Koziol, Riedler, 2019 (Working paper): Euro Area, Quantitative Easing in a Portfolio Balance Model with Heterogeneous Agents and Assets","title":"Work in progress --&gt;click for details"},{"location":"#teaching","text":"UCT, 2020, School of Economics, Lecturer Econometrics (Master and PhD level ECO5046F) UCT, 2019, School of Economics, Lecturer Python for Economics, short course for PhD students UCT, 2019, School of Economics, Lecturer Quantitative methods in Economics, BSc degree UCT, 2018 & 2017, African Institute for Financial Market and Risk Management, TA Econometrics, MCom degree","title":"Teaching"},{"location":"#seminars-talks","text":"Research Seminar at the South African Reserve Bank, 9 November 2020 Economics PhD Conference at Stellenbosch University, 11 - 12 July 2019 Closing Conference of the Project Quantitative Easing and Financial (In)Stability funded, Frankfurt am Main, Germany, 1 April 2019 Financial Stability Workshop of South African Reserve Bank, Pretoria, South Africa, 30th October 2017 INET/Oxford - UCT Workshop on Agent-Based Modelling for Systemic Stress Testing, Oxford, United Kingdom 8-10 March 2017","title":"Seminars &amp; Talks"},{"location":"#tools","text":"We are developing BlackRhino , an open source agent-based model of the financial system in python. I use BlackRhino to implement a model of asset fire-sale propagation across the South African banking sector.","title":"Tools"},{"location":"2020/","text":"Download here Last, but not least, my favourite quote driving me forward: A smooth sea never made a skilled sailor. (FDR)","title":"2020"},{"location":"cv/","text":"Download here Last, but not least, my favourite quote driving me forward: A smooth sea never made a skilled sailor. (FDR)","title":"CV"},{"location":"debate/","text":"Debate and Misinformation Understanding Rhetorical Devices and Logical Fallacies Psychology and Philosophy are fascinating fields of study which are concerned with understanding how human beliefs are formed and reinforced. Whether you are conservative, liberal, pro-Trump, pro-Choice or a passionate 'flat-earther' - every belief system is build on a person's individual logic. The rise of social media has shown how 'echo chambers' and hive-minds can contribute to intensifying and radicalising belief systems. If you find yourself lost in the maze of (mis-)information, try to analyse the content that you are reading in terms of style and rhetorical devises is the language appealing to emotions? manipulating? generalising? nuanced? logical fallacies is the argument made sound or is there no argument and just a tool to distract /attack You will find rhetorical tricks and manipulation on both sides on the coin (e.g. pro trump and anti trump), so try to pick the side with the most sound argumentation and language. 1. Pay attention to language 2. Pay attention to logical fallacies Examples: a) Ad hominem: attacking the person instead of their argument This is a very common and (unfortunately) increasingly popular strategy that is nothing more than a distraction scheme. A distraction away from criticisms - it's much much MUCH EASIER to defame/critisise the opponent than actually address the arguments that were brought forward. I could list countless examples here, but do not want to make this post about Trump - it's just a guideline to analyse argumentation styles. b) Paralipsis or Apophasis This one is interesting because it uses a tongue-in-cheek way to bring an opinion across. It's the ultimate 'passive-aggressive' rhetorical device because you are pretending to omit something, but you are actually mentioning it :) For example, in 2009 (wayyyy before covid-19), Michelle Bachmann, a Republican congressional representative, made a comment about the outbreak of swine flu: I find it interesting that it was back in the 1970s that the swine flu broke out (...) under another Democrat president, Jimmy Carter. And I'm not blaming this on President Obama. I just think it's an interesting coincidence. She uses paralipsis to suggest the Democrats are bad at containing the swine flue while simultaneously mentioning that she is not blaming President Obama. But why mention the coincidence if it was not for blaming him? Paralipsis= A figure of speech in which one pretends to ignore or omit something by actually mentioning it The next fallacy is very intuitive and is often 'instrumentalised' by conspiracy theorists to argue for their favour: c) Argumentum ad populum or \"bandwagon fallacy\" A proposition must be true because many or most people believe it. If many believe so, it is true So if someone says: America is exceptional because a lot of people believe America is the greatest country in the world --> it's fallacious. You can bring 100 other reason why the US is a great country, but this one is not a solid argument. What this fallacy is also saying: if a lot of people follow me and my argument, it has a lot of value and must be true. So popularity (crowds, opinion polls, ratings, votes) becomes the main sign of value. It's quite sad that many people need guidance of popularity to make decision. But as Emmanuel Kant' once said: Sapere aude - Dare to think for yourself. d) Argumentum ad ignorantiam - \"a lack of contrary evidence\" The fallacy of appeal to ignorance is when a lack of evidence for one thing leads you to claim that another thing must be true, without interrogating other reasons for the possible invalidity of the other thing. Example: There might be logically sound arguments for using coal or believing in God, but these are not them: \"Science has not definitively shown that the Big Bang ever happened, therefore God exists\". It can't be proved that climate change is due to fossil-fuel emissions, therefore we should carry on using coal. Want more ? Here is an excellent video of 15 logical fallacies committed in 3 minutes of speech by a prominent politician.","title":"Miscellaneous - Debate and Misinformation"},{"location":"debate/#debate-and-misinformation","text":"","title":"Debate and Misinformation"},{"location":"debate/#understanding-rhetorical-devices-and-logical-fallacies","text":"Psychology and Philosophy are fascinating fields of study which are concerned with understanding how human beliefs are formed and reinforced. Whether you are conservative, liberal, pro-Trump, pro-Choice or a passionate 'flat-earther' - every belief system is build on a person's individual logic. The rise of social media has shown how 'echo chambers' and hive-minds can contribute to intensifying and radicalising belief systems. If you find yourself lost in the maze of (mis-)information, try to analyse the content that you are reading in terms of style and rhetorical devises is the language appealing to emotions? manipulating? generalising? nuanced? logical fallacies is the argument made sound or is there no argument and just a tool to distract /attack You will find rhetorical tricks and manipulation on both sides on the coin (e.g. pro trump and anti trump), so try to pick the side with the most sound argumentation and language.","title":"Understanding Rhetorical Devices and Logical Fallacies"},{"location":"debate/#1-pay-attention-to-language","text":"","title":"1. Pay attention to language"},{"location":"debate/#2-pay-attention-to-logical-fallacies","text":"Examples:","title":"2. Pay attention to logical fallacies"},{"location":"debate/#a-ad-hominem-attacking-the-person-instead-of-their-argument","text":"This is a very common and (unfortunately) increasingly popular strategy that is nothing more than a distraction scheme. A distraction away from criticisms - it's much much MUCH EASIER to defame/critisise the opponent than actually address the arguments that were brought forward. I could list countless examples here, but do not want to make this post about Trump - it's just a guideline to analyse argumentation styles.","title":"a) Ad hominem: attacking the person instead of their argument"},{"location":"debate/#b-paralipsis-or-apophasis","text":"This one is interesting because it uses a tongue-in-cheek way to bring an opinion across. It's the ultimate 'passive-aggressive' rhetorical device because you are pretending to omit something, but you are actually mentioning it :) For example, in 2009 (wayyyy before covid-19), Michelle Bachmann, a Republican congressional representative, made a comment about the outbreak of swine flu: I find it interesting that it was back in the 1970s that the swine flu broke out (...) under another Democrat president, Jimmy Carter. And I'm not blaming this on President Obama. I just think it's an interesting coincidence. She uses paralipsis to suggest the Democrats are bad at containing the swine flue while simultaneously mentioning that she is not blaming President Obama. But why mention the coincidence if it was not for blaming him? Paralipsis= A figure of speech in which one pretends to ignore or omit something by actually mentioning it The next fallacy is very intuitive and is often 'instrumentalised' by conspiracy theorists to argue for their favour:","title":"b) Paralipsis or Apophasis"},{"location":"debate/#c-argumentum-ad-populum-or-bandwagon-fallacy","text":"A proposition must be true because many or most people believe it. If many believe so, it is true So if someone says: America is exceptional because a lot of people believe America is the greatest country in the world --> it's fallacious. You can bring 100 other reason why the US is a great country, but this one is not a solid argument. What this fallacy is also saying: if a lot of people follow me and my argument, it has a lot of value and must be true. So popularity (crowds, opinion polls, ratings, votes) becomes the main sign of value. It's quite sad that many people need guidance of popularity to make decision. But as Emmanuel Kant' once said: Sapere aude - Dare to think for yourself.","title":"c) Argumentum ad populum or \"bandwagon fallacy\""},{"location":"debate/#d-argumentum-ad-ignorantiam-a-lack-of-contrary-evidence","text":"The fallacy of appeal to ignorance is when a lack of evidence for one thing leads you to claim that another thing must be true, without interrogating other reasons for the possible invalidity of the other thing. Example: There might be logically sound arguments for using coal or believing in God, but these are not them: \"Science has not definitively shown that the Big Bang ever happened, therefore God exists\". It can't be proved that climate change is due to fossil-fuel emissions, therefore we should carry on using coal. Want more ? Here is an excellent video of 15 logical fallacies committed in 3 minutes of speech by a prominent politician.","title":"d) Argumentum ad ignorantiam    -   \"a lack of contrary evidence\""},{"location":"python/","text":"Python for economists Why should economists learn how to code python? The digital age and data revolution have broadened the appeal of data science methods in both the private sector and academic research. Our modern economy becomes increasingly digitised, while larger computing power and novel data sources provide new opportunities to investigate economic relationships. As a starting point, python programming is particularly apt for research topics surrounding financial and social networks, as well as heterogeneous agent modelling. In addition, it provides powerful data management, visualisation, econometrics, automation tools and serves as easy gateway to more general machine learning applications. Python loves BiG data! What you can do Data management: handling large data sets, cleaning and merging data, visualisation Data analysis: forecasting, investment strategies, geo-mapping, numerical computation, statistical tests and machine learning Automation & Productivity: web-scraping, create LaTeX documents, automate tasks like opening 100 excel files and changing one row Machine learning notebook collection . Beginner python stuff See here","title":"Why learn python"},{"location":"python/#python-for-economists","text":"","title":"Python for economists"},{"location":"python/#why-should-economists-learn-how-to-code-python","text":"The digital age and data revolution have broadened the appeal of data science methods in both the private sector and academic research. Our modern economy becomes increasingly digitised, while larger computing power and novel data sources provide new opportunities to investigate economic relationships. As a starting point, python programming is particularly apt for research topics surrounding financial and social networks, as well as heterogeneous agent modelling. In addition, it provides powerful data management, visualisation, econometrics, automation tools and serves as easy gateway to more general machine learning applications. Python loves BiG data!","title":"Why should economists learn how to code python?"},{"location":"python/#what-you-can-do","text":"Data management: handling large data sets, cleaning and merging data, visualisation Data analysis: forecasting, investment strategies, geo-mapping, numerical computation, statistical tests and machine learning Automation & Productivity: web-scraping, create LaTeX documents, automate tasks like opening 100 excel files and changing one row","title":"What you can do"},{"location":"python/#machine-learning-notebook-collection","text":"","title":"Machine learning notebook collection."},{"location":"python/#beginner-python-stuff","text":"See here","title":"Beginner python stuff"},{"location":"research/","text":"Research Work in progress Davids, du Rand, Georg, Koziol & Schasfoort, 2020 (Working paper) SABCoM - A Spatial Agent-Based COVID-19 Model We develop a Spatial Agent-Based Covid-19 Model (SABCoM). The model contributes to the Covid-19 modelling literature by distinguishing between the district level and city level. The advantage of this approach is that we can study the effect of heterogeneity between districts. This is important in an emerging market context since there are often informal and formal districts that differ both in density and the likely effectiveness of physical distancing policies. Source code, Paper Health Economics Financial Contagion Koziol, 2020 (Working Paper) : Stress-testing interconnected portfolios in the South African Banking Sector Paper This paper calibrates a price-mediated contagion model to the South African banking system. I rank individual banks according to their contribution to systemic risk and show the importance of cash liquidity buffers in reducing risk to fire-sale occurrences. The paper finds a critical threshold price impact parameter, which, if exceeded, makes the banking system highly unstable. source code Paper available here Koziol & Riedler, 2019 (Working paper) : Euro Area Quantitative Easing in a Portfolio Balance Model with Heterogeneous Agents and Assets We present a portfolio model to study the effects of Quantitative Easing on international financial asset returns through the portfolio balance channel. Our two-country model quantifies the effect of a domestic central bank\u2019s asset purchase program on the domestic and foreign term structure of the yield curve, equity returns and the exchange rate. Paper on SSRN","title":"Work in progress"},{"location":"research/#research","text":"","title":"Research"},{"location":"research/#work-in-progress","text":"","title":"Work in progress"},{"location":"research/#davids-du-rand-georg-koziol-schasfoort-2020-working-paper","text":"SABCoM - A Spatial Agent-Based COVID-19 Model We develop a Spatial Agent-Based Covid-19 Model (SABCoM). The model contributes to the Covid-19 modelling literature by distinguishing between the district level and city level. The advantage of this approach is that we can study the effect of heterogeneity between districts. This is important in an emerging market context since there are often informal and formal districts that differ both in density and the likely effectiveness of physical distancing policies. Source code, Paper Health Economics Financial Contagion","title":"Davids, du Rand, Georg, Koziol &amp; Schasfoort, 2020 (Working paper)"},{"location":"research/#koziol-2020-working-paper-stress-testing-interconnected-portfolios-in-the-south-african-banking-sector-paper","text":"This paper calibrates a price-mediated contagion model to the South African banking system. I rank individual banks according to their contribution to systemic risk and show the importance of cash liquidity buffers in reducing risk to fire-sale occurrences. The paper finds a critical threshold price impact parameter, which, if exceeded, makes the banking system highly unstable. source code Paper available here","title":"Koziol,  2020 (Working Paper): Stress-testing interconnected portfolios in the South African Banking Sector Paper"},{"location":"research/#koziol-riedler-2019-working-paper-euro-area-quantitative-easing-in-a-portfolio-balance-model-with-heterogeneous-agents-and-assets","text":"We present a portfolio model to study the effects of Quantitative Easing on international financial asset returns through the portfolio balance channel. Our two-country model quantifies the effect of a domestic central bank\u2019s asset purchase program on the domestic and foreign term structure of the yield curve, equity returns and the exchange rate. Paper on SSRN","title":"Koziol &amp; Riedler, 2019 (Working paper): Euro Area Quantitative Easing in a Portfolio Balance Model with Heterogeneous Agents and Assets"},{"location":"blog/2020/Catalinaconda/","text":"Catalina, zsh, bash and conda environments I upgraded my operating system to Mac OS Catalina recently and found myself having to deal with strange python behaviour. One important change on Catalina vs Mojave is that the default terminal shell (=command interpreter) is now zsh and not bash anymore. So if you had python installed on Mojave or earlier versions tailored to bash, these are the adjustments you need to do: Get Oh-my-zh Configure ~.zsh_profile Configure Catalina and conda environments Why did they change to ZSH in the first place? Well, because it exhibits improvements and higher flexibility over bash. The name 'zsh' is derived from the name of Yale professor Zong Shao . Some improvements over bash include themes and plugins, automatic cd, recursive path expansion, spelling correction, approximate completion, plugin and theme support. You can find more infos on zsh here . 1.Get Oh-my-zh First step: Install homebrew (if not done already) Homebrew is a useful tool to install software on macOS operating systems and Linux with the command line. Another way of saying that it's ' a package management system'. For example in python, the package management systems are a) anaconda and b) pip, and for LaTeX, the package manger is tlmgr. For homebrew you need to a) install Xcode via Mac App Store b) install command line tools (130MB) with xcode-select --install c) install Homebrew with : /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" Second step: Configure ZSH and get Oh-my-zsh Oh-my-zsh is an open source framework for managing ZSH. Do you have zsh already? echo $SHELL If yes , install Oh-my-zh by typing brew install wget wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | zsh Oh-my-zsh is installed in the home directory '~/.oh-my-zsh' Next, create a new configuration for zsh. As with the bash shell, which has a configuration named '.bashrc', for zsh, we need a .zshrc configuration file. It's available in the oh-my-zsh templates directory. Copy the template .zshrc.zsh-template configuration file to the home directory .zshrc and apply the configuration by running the source command: cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc source ~/.zshrc cd ~/.oh-my-zsh/themes/ ls -a vim ~/.zshrc and then change the theme you want, e.g. ZSH_THEME='risto' We need to configure the .zshr for python Which python is in your PATH? (Or which exectuable is triggered when typing python ) which python MODIFY PATH export PATH=\"the-directory-with/anaconda3/bin:$PATH\" However, we are not done yet. What would happen now is that every time I started a new terminal session, I needed to adjust my PATH variable. Annoying! I found the solution on overflow : You can find the entire anaconda3 environment in a shortcut link named 'Relocated Items' on your desktop. It appears as though the upgrade to Catalina does not allow the Conda environment to be installed under a user directory now likely having to do with the new system volume move to a read-only partition. This issue has been opened as far back as June 10th, I am a little disappointed that it was not resolved before the Catalina upgrade came around. There is a solution that appears to work without losing your environment, see this link : (optional) Copy the folder anaconda3 located in Relocated Items to /Users/myname/ Open Terminal Enter: export PATH='/Users/myname/anaconda3/bin:$PATH' Enter: conda init zsh","title":"Catalina, zsh, bash and conda environments"},{"location":"blog/2020/Catalinaconda/#catalina-zsh-bash-and-conda-environments","text":"I upgraded my operating system to Mac OS Catalina recently and found myself having to deal with strange python behaviour. One important change on Catalina vs Mojave is that the default terminal shell (=command interpreter) is now zsh and not bash anymore. So if you had python installed on Mojave or earlier versions tailored to bash, these are the adjustments you need to do: Get Oh-my-zh Configure ~.zsh_profile Configure Catalina and conda environments Why did they change to ZSH in the first place? Well, because it exhibits improvements and higher flexibility over bash. The name 'zsh' is derived from the name of Yale professor Zong Shao . Some improvements over bash include themes and plugins, automatic cd, recursive path expansion, spelling correction, approximate completion, plugin and theme support. You can find more infos on zsh here .","title":"Catalina, zsh, bash and conda environments"},{"location":"blog/2020/Catalinaconda/#1get-oh-my-zh","text":"","title":"1.Get Oh-my-zh"},{"location":"blog/2020/Catalinaconda/#first-step-install-homebrew-if-not-done-already","text":"Homebrew is a useful tool to install software on macOS operating systems and Linux with the command line. Another way of saying that it's ' a package management system'. For example in python, the package management systems are a) anaconda and b) pip, and for LaTeX, the package manger is tlmgr. For homebrew you need to a) install Xcode via Mac App Store b) install command line tools (130MB) with xcode-select --install c) install Homebrew with : /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"","title":"First step: Install homebrew (if not done already)"},{"location":"blog/2020/Catalinaconda/#second-step-configure-zsh-and-get-oh-my-zsh","text":"Oh-my-zsh is an open source framework for managing ZSH. Do you have zsh already? echo $SHELL If yes , install Oh-my-zh by typing brew install wget wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | zsh Oh-my-zsh is installed in the home directory '~/.oh-my-zsh' Next, create a new configuration for zsh. As with the bash shell, which has a configuration named '.bashrc', for zsh, we need a .zshrc configuration file. It's available in the oh-my-zsh templates directory. Copy the template .zshrc.zsh-template configuration file to the home directory .zshrc and apply the configuration by running the source command: cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc source ~/.zshrc cd ~/.oh-my-zsh/themes/ ls -a vim ~/.zshrc and then change the theme you want, e.g. ZSH_THEME='risto'","title":"Second step: Configure ZSH and get Oh-my-zsh"},{"location":"blog/2020/Catalinaconda/#we-need-to-configure-the-zshr-for-python","text":"Which python is in your PATH? (Or which exectuable is triggered when typing python ) which python MODIFY PATH export PATH=\"the-directory-with/anaconda3/bin:$PATH\" However, we are not done yet. What would happen now is that every time I started a new terminal session, I needed to adjust my PATH variable. Annoying! I found the solution on overflow : You can find the entire anaconda3 environment in a shortcut link named 'Relocated Items' on your desktop. It appears as though the upgrade to Catalina does not allow the Conda environment to be installed under a user directory now likely having to do with the new system volume move to a read-only partition. This issue has been opened as far back as June 10th, I am a little disappointed that it was not resolved before the Catalina upgrade came around. There is a solution that appears to work without losing your environment, see this link : (optional) Copy the folder anaconda3 located in Relocated Items to /Users/myname/ Open Terminal Enter: export PATH='/Users/myname/anaconda3/bin:$PATH' Enter: conda init zsh","title":"We need to configure the .zshr  for python"},{"location":"blog/2020/ba900-download/","text":"Download and analyse SARB BA900 forms This is a description of the ba900 programm at https://github.com/t1nak/ba900/ Attention: requires python 2.7! Yes, the old one. I coded this up a long time ago. I will probably transcribe it to python 3 at some point. So long, you must create a python environment with python=2.7 because basestring is missing in python 3. Other dependencies: lxml and more_itertools ( pypi ) Get the South African Reserve Bank BA 900 forms Time series of SA banks' balance sheets items I provide the data as of 24 October 2020 in this repo. If you want to update and download yourself, use the following steps. Step 1 Run this snippet to create the folder data/downloaded in your project directory and one for each year available on the website: import os folder='data/downloaded' path = os.path.join(os.getcwd(),folder) years = [i for i in range(2008, 2021, 1)] for y in years: if not os.path.exists(os.path.join(path,str(y))): os.makedirs(path+str(y)) Step 2 Download all the xml files from the SARB's homepage and unzip into the corresponding folder. If I find time I will add a little selenium function to do this automatically, but it's very simple as it is :) Step 3 To convert the data from xml to dataframe run python ba900.py or the following snipped with the folder name you just created. The script will extract all data from the xml files and save as year.pkl import pandas as pd from collections import Counter from lxml import etree import numpy as np import os, sys sys.path.insert(0,os.getcwd()) from extract_data import * from iteration import * import pickle input = os.path.join(os.getcwd(), 'data/downloaded/') output = os.path.join(os.getcwd(), 'data/output/') if not os.path.exists(input): os.mkdir(input) if not os.path.exists(output): os.mkdir(output) years = [ 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020] data = save_yearly_data(years, folder) #This will save all years as one giant pickle (approx. 2GB) #Uncomment if you want this # filename = os.path.join(folder, 'all_data.pickle') # with open(filename, 'wb') as f: # pickle.dump(data, f) print('All done. Have fun analysing.')nt('All done. Have fun analysing.') After calling ba900.py you should see something like this: So the banks and their respective monthly data are being processed. It takes about 30 to 40 min to run all the bank and years (2008 to 2020). Step 4 Now you have the data - great. However, analysis of the data requires good understanding of the ba900 forms. Here is a csv for ABSA, December 2008. - download link There are 18 tables and 383 unique Item numbers . For example asset side positions are item numbers 103 to 277 . After familiarising yourself with the structure, you can load the pickled data and look at the time series with something like this #load data import os import pandas as pd import matplotlib.pyplot as plt import numpy as np import datetime file_list=[] for filename in os.listdir('./data/output/'): if filename.endswith(\".pkl\"): unpickle = './data/output/'+str(filename) print(unpickle) file_list.append(pd.read_pickle(unpickle)) MASTER = pd.concat(file_list) MASTER['time'] = pd.to_datetime(MASTER['time']) #print all column names print(MASTER.columns) Print all banks in the data set with print(MASTER['InstitutionDescription'].unique()) Look at ABSA bank asset portfolio weights: #need assets_to_weights.py from assets_to_weights import * transform=tranformer() years=[str(i) for i in range(2008,2020, 1)] months=[\"{:02d}\".format(i) for i in range(1,13)] helper_dict={} for y in years: helper_dict[y]=months BANK = MASTER[MASTER['InstitutionDescription']=='ABSA BANK LTD '] BANK['Value'] = pd.to_numeric(BANK['Value']) bank_year_and_month = [] for key in helper_dict.keys(): for month in helper_dict[key]: df_bank_key_month = BANK[(BANK['TheYear']==key)&(BANK['TheMonth']==month)] # print((month),(key),df_bank_key_month ) try: bank_year_and_month.append(transform.get_pf_weights_by_bank_29(df_bank_key_month)) except: pass absa=pd.concat(bank_year_and_month) # we only need one entry per month - so select column code 7 and itemnumber 2 for example absa_weights=absa[(absa['ColumnCode']=='7')&(absa['ItemNumber']=='2')] absa_weights.index=absa_weights.time f = plt.figure() plt.title('ABSA portfolio weights', color='black') for column in absa_weights[absa.columns[-19:-10]]: absa_weights[column].plot(legend=column, ax=f.gca()) plt.legend(loc='center left', bbox_to_anchor=(1.0, 0.5)) plt.show() So you can see the gradual decline in household mortgage credit in ABSA's balance sheet as a share of its total balance sheet size. For the top 4 banks: # show portfolio weights for absa's credit book from assets_to_weights import * transform=tranformer() years=[str(i) for i in range(2008,2021, 1)] months=[\"{:02d}\".format(i) for i in range(1,13)] top5=[ 'ABSA BANK LTD ',\\ 'THE STANDARD BANK OF S A LTD ',\\ MASTER[MASTER['InstitutionDescription'].str.contains('NEDBANK')]['InstitutionDescription'].values[0],\\ MASTER[MASTER['InstitutionDescription'].str.contains('FIRSTRAND')]['InstitutionDescription'].values[0],\\ MASTER[MASTER['InstitutionDescription'].str.contains('CAPITEC BANK')]['InstitutionDescription'].values[0] ] df=MASTER[MASTER.InstitutionDescription.isin(top5)] arr = np.empty((0,len(df[df['InstitutionDescription'].str.contains('ABSA BANK LTD ')].time.unique()))) for b in top5: test=transform.get_bankdata(years,months,df, b) # # we only need one entry per month - so select column code 7 and itemnumber 2 for example test_weights=test[(test['ColumnCode']=='7')&(test['ItemNumber']=='2')] test_weights.index=test_weights.time # f = plt.figure() # plt.title('ABSA portfolio weights', color='black') # for column in test_weights[test.columns[-19:-10]]: # test_weights[column].plot(legend=column, ax=f.gca()) # plt.legend(loc='center left', bbox_to_anchor=(1.0, 0.5)) # plt.show() weights_only=test_weights[test_weights.columns[-29:]] d=weights_only.filter(like='Household_mortgages').squeeze().values arr=np.vstack((arr,d)) import matplotlib.pyplot as plt top5=[ 'ABSA BANK LTD ',\\ 'THE STANDARD BANK OF S A LTD ',\\ MASTER[MASTER['InstitutionDescription'].str.contains('NEDBANK')]['InstitutionDescription'].values[0],\\ MASTER[MASTER['InstitutionDescription'].str.contains('FIRSTRAND')]['InstitutionDescription'].values[0],\\ MASTER[MASTER['InstitutionDescription'].str.contains('CAPITEC BANK')]['InstitutionDescription'].values[0] ] f = plt.figure() plt.title('Household mortgage portfolio weights', color='black') for i,name in zip(arr[:-1],top5[:-1]): plt.plot(test_weights.time,i , label=name) plt.legend(loc='center left', bbox_to_anchor=(1.0, 0.5)) plt.show() Euclidean distances betwenn top 10 banks (dec 2018): You can check some examples in the exame_analyse.ipynb notebook. Write me if you have questions. There is a lot of scope to make this more user-friendly and if I get more feedback I will gladly do so. However, for my own purposes it has been sufficient like it is.","title":"Analyse and Download SARB BA900"},{"location":"blog/2020/ba900-download/#download-and-analyse-sarb-ba900-forms","text":"This is a description of the ba900 programm at https://github.com/t1nak/ba900/ Attention: requires python 2.7! Yes, the old one. I coded this up a long time ago. I will probably transcribe it to python 3 at some point. So long, you must create a python environment with python=2.7 because basestring is missing in python 3. Other dependencies: lxml and more_itertools ( pypi )","title":"Download and analyse SARB BA900 forms"},{"location":"blog/2020/ba900-download/#get-the-south-african-reserve-bank-ba-900-forms","text":"","title":"Get the South African Reserve Bank BA 900 forms"},{"location":"blog/2020/ba900-download/#time-series-of-sa-banks-balance-sheets-items","text":"I provide the data as of 24 October 2020 in this repo. If you want to update and download yourself, use the following steps.","title":"Time series of SA banks' balance sheets items"},{"location":"blog/2020/ba900-download/#step-1","text":"Run this snippet to create the folder data/downloaded in your project directory and one for each year available on the website: import os folder='data/downloaded' path = os.path.join(os.getcwd(),folder) years = [i for i in range(2008, 2021, 1)] for y in years: if not os.path.exists(os.path.join(path,str(y))): os.makedirs(path+str(y))","title":"Step 1"},{"location":"blog/2020/ba900-download/#step-2","text":"Download all the xml files from the SARB's homepage and unzip into the corresponding folder. If I find time I will add a little selenium function to do this automatically, but it's very simple as it is :)","title":"Step 2"},{"location":"blog/2020/ba900-download/#step-3","text":"To convert the data from xml to dataframe run python ba900.py or the following snipped with the folder name you just created. The script will extract all data from the xml files and save as year.pkl import pandas as pd from collections import Counter from lxml import etree import numpy as np import os, sys sys.path.insert(0,os.getcwd()) from extract_data import * from iteration import * import pickle input = os.path.join(os.getcwd(), 'data/downloaded/') output = os.path.join(os.getcwd(), 'data/output/') if not os.path.exists(input): os.mkdir(input) if not os.path.exists(output): os.mkdir(output) years = [ 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020] data = save_yearly_data(years, folder) #This will save all years as one giant pickle (approx. 2GB) #Uncomment if you want this # filename = os.path.join(folder, 'all_data.pickle') # with open(filename, 'wb') as f: # pickle.dump(data, f) print('All done. Have fun analysing.')nt('All done. Have fun analysing.') After calling ba900.py you should see something like this: So the banks and their respective monthly data are being processed. It takes about 30 to 40 min to run all the bank and years (2008 to 2020).","title":"Step 3"},{"location":"blog/2020/ba900-download/#step-4","text":"Now you have the data - great. However, analysis of the data requires good understanding of the ba900 forms. Here is a csv for ABSA, December 2008. - download link There are 18 tables and 383 unique Item numbers . For example asset side positions are item numbers 103 to 277 . After familiarising yourself with the structure, you can load the pickled data and look at the time series with something like this #load data import os import pandas as pd import matplotlib.pyplot as plt import numpy as np import datetime file_list=[] for filename in os.listdir('./data/output/'): if filename.endswith(\".pkl\"): unpickle = './data/output/'+str(filename) print(unpickle) file_list.append(pd.read_pickle(unpickle)) MASTER = pd.concat(file_list) MASTER['time'] = pd.to_datetime(MASTER['time']) #print all column names print(MASTER.columns) Print all banks in the data set with print(MASTER['InstitutionDescription'].unique()) Look at ABSA bank asset portfolio weights: #need assets_to_weights.py from assets_to_weights import * transform=tranformer() years=[str(i) for i in range(2008,2020, 1)] months=[\"{:02d}\".format(i) for i in range(1,13)] helper_dict={} for y in years: helper_dict[y]=months BANK = MASTER[MASTER['InstitutionDescription']=='ABSA BANK LTD '] BANK['Value'] = pd.to_numeric(BANK['Value']) bank_year_and_month = [] for key in helper_dict.keys(): for month in helper_dict[key]: df_bank_key_month = BANK[(BANK['TheYear']==key)&(BANK['TheMonth']==month)] # print((month),(key),df_bank_key_month ) try: bank_year_and_month.append(transform.get_pf_weights_by_bank_29(df_bank_key_month)) except: pass absa=pd.concat(bank_year_and_month) # we only need one entry per month - so select column code 7 and itemnumber 2 for example absa_weights=absa[(absa['ColumnCode']=='7')&(absa['ItemNumber']=='2')] absa_weights.index=absa_weights.time f = plt.figure() plt.title('ABSA portfolio weights', color='black') for column in absa_weights[absa.columns[-19:-10]]: absa_weights[column].plot(legend=column, ax=f.gca()) plt.legend(loc='center left', bbox_to_anchor=(1.0, 0.5)) plt.show() So you can see the gradual decline in household mortgage credit in ABSA's balance sheet as a share of its total balance sheet size. For the top 4 banks: # show portfolio weights for absa's credit book from assets_to_weights import * transform=tranformer() years=[str(i) for i in range(2008,2021, 1)] months=[\"{:02d}\".format(i) for i in range(1,13)] top5=[ 'ABSA BANK LTD ',\\ 'THE STANDARD BANK OF S A LTD ',\\ MASTER[MASTER['InstitutionDescription'].str.contains('NEDBANK')]['InstitutionDescription'].values[0],\\ MASTER[MASTER['InstitutionDescription'].str.contains('FIRSTRAND')]['InstitutionDescription'].values[0],\\ MASTER[MASTER['InstitutionDescription'].str.contains('CAPITEC BANK')]['InstitutionDescription'].values[0] ] df=MASTER[MASTER.InstitutionDescription.isin(top5)] arr = np.empty((0,len(df[df['InstitutionDescription'].str.contains('ABSA BANK LTD ')].time.unique()))) for b in top5: test=transform.get_bankdata(years,months,df, b) # # we only need one entry per month - so select column code 7 and itemnumber 2 for example test_weights=test[(test['ColumnCode']=='7')&(test['ItemNumber']=='2')] test_weights.index=test_weights.time # f = plt.figure() # plt.title('ABSA portfolio weights', color='black') # for column in test_weights[test.columns[-19:-10]]: # test_weights[column].plot(legend=column, ax=f.gca()) # plt.legend(loc='center left', bbox_to_anchor=(1.0, 0.5)) # plt.show() weights_only=test_weights[test_weights.columns[-29:]] d=weights_only.filter(like='Household_mortgages').squeeze().values arr=np.vstack((arr,d)) import matplotlib.pyplot as plt top5=[ 'ABSA BANK LTD ',\\ 'THE STANDARD BANK OF S A LTD ',\\ MASTER[MASTER['InstitutionDescription'].str.contains('NEDBANK')]['InstitutionDescription'].values[0],\\ MASTER[MASTER['InstitutionDescription'].str.contains('FIRSTRAND')]['InstitutionDescription'].values[0],\\ MASTER[MASTER['InstitutionDescription'].str.contains('CAPITEC BANK')]['InstitutionDescription'].values[0] ] f = plt.figure() plt.title('Household mortgage portfolio weights', color='black') for i,name in zip(arr[:-1],top5[:-1]): plt.plot(test_weights.time,i , label=name) plt.legend(loc='center left', bbox_to_anchor=(1.0, 0.5)) plt.show() Euclidean distances betwenn top 10 banks (dec 2018): You can check some examples in the exame_analyse.ipynb notebook. Write me if you have questions. There is a lot of scope to make this more user-friendly and if I get more feedback I will gladly do so. However, for my own purposes it has been sufficient like it is.","title":"Step 4"},{"location":"blog/2020/installpy/","text":"Installing python on Mac with Anaconda Go to https://docs.anaconda.com/anaconda/install/ and use the standard installer. Yes it's big, but it's the easiest and smoothest way for a beginner. Tip: TIP: Always know where your python executable is ( which python in terminal) and configure your PATH! I would not recommend beginner to install python with Homebrew --> brew cask install anaconda will want to install the python distribution in /usr/local but conda was designed to be installed in $HOME --> this could lead to unpredictable behaviour!","title":"Install python"},{"location":"blog/2020/installpy/#installing-python-on-mac-with-anaconda","text":"Go to https://docs.anaconda.com/anaconda/install/ and use the standard installer. Yes it's big, but it's the easiest and smoothest way for a beginner. Tip: TIP: Always know where your python executable is ( which python in terminal) and configure your PATH! I would not recommend beginner to install python with Homebrew --> brew cask install anaconda will want to install the python distribution in /usr/local but conda was designed to be installed in $HOME --> this could lead to unpredictable behaviour!","title":"Installing python on Mac with Anaconda"}]}